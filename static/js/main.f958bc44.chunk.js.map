{"version":3,"sources":["Components/Header/appName.js","Components/Header/headerBox.js","Components/JS_Uploadspreadsheet.js","Components/Aliments/AlimentCard.js","Components/Aliments/SummariesAliment.js","Components/Aliments/Pagination.js","Pages/Home/home.js","Main.js","App.js","serviceWorker.js","index.js"],"names":["AppName","file_name","classes","useStyles","AppBar","position","color","Toolbar","Typography","variant","className","title","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","textAlign","myAppbarColor","background","HeaderBox","Box","component","boxParentSize","border","borderRadius","boxShadow","height","width","JsUploadSpreadsheet","stateMutator","spreadSheetMutator","spreadSheetCompoMutator","setAlimentPortionMutator","setLoadingMutator","setFileName","setAlimentOptions","useEffect","selectFile","window","location","href","encodeURIComponent","file_path","a","fetch","responseType","response","blob","data","f","File","type","headers","get","reader","FileReader","onload","event","target","result","readedData","XLSX","readSheet1","readSheet2","name","readAsBinaryString","wsname","SheetNames","ws","Sheets","dataParse","sheet_to_json","header","sheet1Info","count","aliments","forEach","value","length","push","aliment","sous_groupe_alimentaire","groupe_alimentaire","portion","myAlimentObj","item","sheet2Info","structureCompoSheet","groupe_aliments","map","index","hasOwnProperty","jsonSpreadsheetCompo","aliments_data_nutrient_ref","alim_nom_fr","alim_grp_nom_fr","alim_ssgrp_nom_fr","les_nutrients","id","nutrient","nutrient_headers","toString","replace","parseFloat","getNutrientHeaders","row","slice","margin","input","display","AlimentCard","sous_groupe","spreadsheetData","setSpreadsheetData","nutrientCompo","setAlimentPortion","aliment_portion","aliment_options","aliment_images","useState","imageLoaded","setImageLoaded","imgsrc","setImgSrc","txtPortion","setTxtPortion","aliment_compo_group_alimentaire","set_aliment_compo_groupe_alimentaire","groupe_alim","findIndex","element","Object","keys","Card","CardMedia","media","image","Skeleton","CardContent","style","flexShrink","gutterBottom","charAt","toUpperCase","replaceAll","String","Array","fill","join","Math","max","TextField","required","InputLabelProps","shrink","min","label","onChange","e","Number","Autocomplete","sous_groupe_alim","splice","handleAlimentChange","options","getOptionLabel","option","renderInput","params","card","marginTop","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","blue","table","SummariesAliment","PrettoSlider","withStyles","disabled","palette","primary","main","thumb","active","valueLabel","left","track","rail","Slider","styleList","icon","textColor","progressClassNames","nutrientConstraints","mid","high","progressBarColorIndex","myStyleIndex","nutrientSum","reduce","previousValue","currentValue","nutrientValue","nutrientPercent","toFixed","key","marginBottom","valueLabelFormat","x","aria-label","valueLabelDisplay","step","Chip","nutrientText","onDelete","deleteIcon","Icon","justifyContent","flexWrap","listStyle","padding","fontSize","chipColor","borderColor","formControl","minWidth","selectEmpty","Pagination","pages","activePage","onClick","console","log","FormControl","InputLabel","Select","labelId","MenuItem","Home","uploaded","setUploadState","spreadsheetCompo","setSpreadsheetCompo","loading","setLoading","currentAlimentIndex","setCurrentAlimentIndex","LinearProgress","showArrows","showThumbs","statusFormatter","renderIndicator","selectedItem","summary_root","flex","food_card","myCardRow","flexDirection","myCardColumn","Main","App","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.f958bc44.chunk.js","sourcesContent":["import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\nexport default function AppName({file_name}) {\r\n    const classes = useStyles();\r\n    return (\r\n        <AppBar position=\"static\" color=\"primary\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            {file_name}\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n        );\r\n  }\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n      textAlign: 'left'\r\n    },\r\n    myAppbarColor: {\r\n      background: 'linear-gradient(45deg, #DA22FF 30%, #9733EE 90%)'\r\n    }\r\n  }));","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppName from './appName';\r\n\r\nexport default function HeaderBox({file_name}) {\r\n    const classes = useStyles();\r\n    return (\r\n        <Box component=\"span\" className={classes.boxParentSize} >\r\n            <AppName file_name={\"Meal Calculateur\"} />\r\n        </Box>\r\n        );\r\n  }\r\n\r\n  const useStyles = makeStyles({\r\n    root: {\r\n      //background: 'linear-gradient(45deg, #DA22FF 30%, #9733EE 90%)',\r\n      border: 0,\r\n      borderRadius: 3,\r\n      boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\r\n      color: 'white',\r\n      height: 100,\r\n      \r\n    },\r\n    boxParentSize:{\r\n        height: 100,\r\n        width: \"80%\",\r\n        background: 'linear-gradient(45deg, #DA22FF 30%, #9733EE 90%)'\r\n        //padding: '0 30px',\r\n    }\r\n  });","import React, { useEffect } from 'react';\r\nimport '../App.css';\r\nimport '../Nutrition.css';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport {Typography} from '@material-ui/core/';\r\nimport * as XLSX from 'xlsx';\r\nimport axios from 'axios';\r\n\r\nexport default function JsUploadSpreadsheet(\r\n                                      {stateMutator, \r\n                                      spreadSheetMutator, \r\n                                      spreadSheetCompoMutator, \r\n                                      setAlimentPortionMutator, \r\n                                      setLoadingMutator, \r\n                                      setFileName,\r\n                                      setAlimentOptions}){\r\n\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n      setLoadingMutator(true);\r\n      selectFile(window.location.href+'/' +encodeURIComponent(\"meal_calculator.xlsx\"));\r\n\r\n    },[]);\r\n\r\n    const selectFile = async (file_path) => {\r\n        \r\n        const response = await fetch(file_path, {responseType: 'blob'});\r\n        const data = await response.blob();\r\n\r\n        let f = new File([data], \"source_file.xlsx\", {\r\n          type: response.headers.get('content-type')\r\n        });\r\n\r\n        var reader = new FileReader();\r\n        \r\n        reader.onload = async function (event) {\r\n            var data = event.target.result;\r\n            let readedData = XLSX.read(data, {type: 'binary'});\r\n            await readSheet1(readedData);\r\n            await readSheet2(readedData);\r\n\r\n            await setLoadingMutator(false);\r\n            await stateMutator(true);\r\n        };\r\n\r\n        setFileName(f.name);\r\n        await reader.readAsBinaryString(f);\r\n\r\n    };\r\n\r\n    const readSheet1 = (readedData) => {\r\n        const wsname = readedData.SheetNames[0];\r\n        const ws = readedData.Sheets[wsname];\r\n            \r\n        /* Convert array to json*/\r\n        const dataParse = XLSX.utils.sheet_to_json(ws, {header:1});\r\n        let sheet1Info = {}, count = 0;\r\n        sheet1Info.aliments = [];\r\n\r\n        dataParse.forEach(value => {\r\n          count++;\r\n          if (count === 1) return;\r\n          if (value[0] == null) return;\r\n          if (value.length === 0) return;\r\n\r\n          sheet1Info.aliments.push({\r\n              aliment: value[2],\r\n              sous_groupe_alimentaire: value[1],\r\n              groupe_alimentaire: value[0],\r\n              portion: 0\r\n            });\r\n        });\r\n\r\n        spreadSheetMutator(sheet1Info);\r\n        let myAlimentObj = {};\r\n        sheet1Info.aliments.forEach((item) => {\r\n            myAlimentObj[item.aliment] = item.portion;\r\n        });\r\n        setAlimentPortionMutator(\r\n          myAlimentObj\r\n        );\r\n\r\n    }\r\n\r\n    const readSheet2 = (readedData) => {\r\n      const wsname = readedData.SheetNames[1];\r\n      const ws = readedData.Sheets[wsname];\r\n          \r\n      /* Convert array to json*/\r\n      const dataParse = XLSX.utils.sheet_to_json(ws, {header:1});\r\n\r\n      const sheet2Info = structureCompoSheet(dataParse);\r\n      spreadSheetCompoMutator(sheet2Info);\r\n\r\n      let groupe_aliments = {};\r\n\r\n      dataParse.map((item, index) => {\r\n          if (index == 0) return;\r\n            if (groupe_aliments.hasOwnProperty(item[0])){\r\n              groupe_aliments[item[0]].push(item[2])\r\n            }else{\r\n              groupe_aliments[item[0]] = [];\r\n              groupe_aliments[item[0]].push(item[2])\r\n            }\r\n        });\r\n\r\n        setAlimentOptions(groupe_aliments);\r\n        \r\n    }\r\n\r\n    const structureCompoSheet = (jsonSpreadsheetCompo) => {\r\n\r\n      let sheet2Info = {};\r\n      sheet2Info.aliments_data_nutrient_ref = [];\r\n      sheet2Info.nutrient_headers = [];\r\n\r\n      jsonSpreadsheetCompo.forEach((value, index) => {\r\n          if (index === 0) {\r\n            sheet2Info.nutrient_headers = getNutrientHeaders(value);\r\n            return;\r\n          }\r\n\r\n          sheet2Info.aliments_data_nutrient_ref.push({\r\n            [value[2]] : {\r\n              alim_nom_fr: value[2],\r\n              alim_grp_nom_fr: value[0],\r\n              alim_ssgrp_nom_fr: value[1],\r\n              les_nutrients: [\r\n                {\r\n                  id: ++index,\r\n                  nutrient: sheet2Info.nutrient_headers[0],\r\n                  value: value[3].toString().replace(',', '.')\r\n                },\r\n                {\r\n                  id: ++index,\r\n                  nutrient: sheet2Info.nutrient_headers[1],\r\n                  value: value[4].toString().replace(',', '.')\r\n                },\r\n                {\r\n                  id: ++index,\r\n                  nutrient: sheet2Info.nutrient_headers[2],\r\n                  value: value[5].toString().replace(',', '.')\r\n                },\r\n                {\r\n                  id: ++index,\r\n                  nutrient: sheet2Info.nutrient_headers[3],\r\n                  value: value[6].toString().replace(',', '.')\r\n                },\r\n                {\r\n                  id: ++index,\r\n                  nutrient: sheet2Info.nutrient_headers[4],\r\n                  value: value[7].toString().replace(',', '.')\r\n                },\r\n                {\r\n                  id: ++index,\r\n                  nutrient: sheet2Info.nutrient_headers[5],\r\n                  value: value[8].toString().replace(',', '.')\r\n                },\r\n                {\r\n                  id: ++index,\r\n                  nutrient: sheet2Info.nutrient_headers[6],\r\n                  value: value[9].toString().replace(',', '.')\r\n                },\r\n                {\r\n                  id: ++index,\r\n                  nutrient: sheet2Info.nutrient_headers[7],\r\n                  value: value[10].toString().replace(',', '.')\r\n                },\r\n                {\r\n                  id: ++index,\r\n                  nutrient: sheet2Info.nutrient_headers[1] +\" \"+ sheet2Info.nutrient_headers[3],\r\n                  value: parseFloat(value[4].toString().replace(',', '.')) \r\n                        + parseFloat(value[6].toString().replace(',', '.'))\r\n                },\r\n              ]\r\n            }\r\n          })\r\n      });\r\n\r\n      return sheet2Info;\r\n\r\n    }\r\n\r\n    const getNutrientHeaders = (row) => {\r\n      row.push(\"Eau + Alcool (g/100g)\");\r\n      return row.slice(3);\r\n    }\r\n\r\nreturn (\r\n    <></>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      '& > *': {\r\n        margin: theme.spacing(1),\r\n      },\r\n    },\r\n    input: {\r\n      display: 'none',\r\n    },\r\n  })\r\n)","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { blue } from '@material-ui/core/colors';\r\nimport {\r\n    Card, \r\n    CardActions,\r\n    CardMedia, \r\n    CardContent, \r\n    Avatar, \r\n    Typography,\r\n    CircularProgress,\r\n    TextField,\r\n    Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper\r\n  } from '@material-ui/core/';\r\n  import Autocomplete from '@material-ui/lab/Autocomplete';\r\n  import Skeleton from '@material-ui/lab/Skeleton';\r\n  \r\n  import axios from 'axios';\r\n\r\n  \r\n\r\nexport default function AlimentCard(\r\n  {\r\n    id,\r\n    aliment, \r\n    sous_groupe, \r\n    groupe_alimentaire, \r\n    portion, \r\n    spreadsheetData,\r\n    setSpreadsheetData,\r\n    nutrientCompo, \r\n    setAlimentPortion,\r\n    aliment_portion,\r\n    aliment_options,\r\n    aliment_images\r\n  }) {\r\n\r\n    const classes = useStyles();\r\n    const [imageLoaded, setImageLoaded] = useState(false);\r\n    const [imgsrc, setImgSrc] = useState(\"\");\r\n    const [txtPortion, setTxtPortion] = useState(portion);\r\n    const [aliment_compo_group_alimentaire, set_aliment_compo_groupe_alimentaire] = useState(\"\");\r\n    \r\n\r\n    const handleAlimentChange = (value) => {\r\n        \r\n        let groupe_alim = nutrientCompo.aliments_data_nutrient_ref\r\n                          [nutrientCompo.aliments_data_nutrient_ref.findIndex\r\n                            (\r\n                              (element) => value === Object.keys(element)[0]\r\n                            )][value].alim_grp_nom_fr;\r\n        \r\n        let sous_groupe_alim = nutrientCompo.aliments_data_nutrient_ref \r\n        [nutrientCompo.aliments_data_nutrient_ref.findIndex\r\n          (\r\n            (element) => value === Object.keys(element)[0]\r\n          )][value].alim_ssgrp_nom_fr;\r\n\r\n        spreadsheetData.aliments.splice(id, 1, {\r\n            aliment: value,\r\n            sous_groupe_alimentaire: sous_groupe_alim,\r\n            groupe_alimentaire: groupe_alim,\r\n            portion: txtPortion\r\n        });\r\n\r\n        setImageLoaded(false);\r\n        setSpreadsheetData({...spreadsheetData, aliments: spreadsheetData.aliments});\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        \r\n      let groupe_alim = nutrientCompo.aliments_data_nutrient_ref\r\n                          [nutrientCompo.aliments_data_nutrient_ref.findIndex\r\n                            (\r\n                              (element) => aliment === Object.keys(element)[0]\r\n                            )][aliment].alim_grp_nom_fr;\r\n\r\n      set_aliment_compo_groupe_alimentaire(groupe_alim); \r\n      \r\n      if (aliment != null){\r\n        setImgSrc(aliment_images[aliment]);\r\n        setImageLoaded(true);\r\n      }\r\n      \r\n\r\n        // axios({\r\n        //     method: 'get',\r\n        //     url: `https://api.allorigins.win/get?url=${encodeURIComponent('https://yandex.com/images/search?text='+aliment+'&isize=medium')}`,\r\n        // })\r\n        // .then((response) => {\r\n            \r\n        //     let imgSearch = response.data.contents;\r\n\r\n        //     let skip = imgSearch.indexOf(\"\\\"freshness\\\":\\\"normal\\\",\\\"preview\\\"\");\r\n\r\n        //     let startPos = imgSearch.indexOf(\"https\", skip);\r\n        //     let endPos = imgSearch.indexOf(\"fileSizeInBytes\", startPos);\r\n            \r\n        //     let finalString = imgSearch.substring(startPos, (endPos-3));\r\n\r\n        //     //check if image really exist else show something else\r\n        //     setImgSrc(finalString);\r\n        //     console.log(aliment+\" xx \"+finalString);\r\n        //     setImageLoaded(true);\r\n        // })\r\n        // .catch((e) => { console.warn(e)});\r\n\r\n      \r\n    }, [aliment, aliment_options]);\r\n\r\n    //https://www.google.com/search?tbm=isch&source=hp&biw=1015&bih=763&q=Soupe aux légumes variés, préemballée à réchauffer\r\n\r\n    //https://yandex.com/images/search?text=Avocat%2C%20pulpe%2C%20cru&isize=medium\r\n\r\n    return (\r\n      <div>\r\n        <Card >\r\n            \r\n            {imageLoaded ? (\r\n            <CardMedia\r\n              className={classes.media}\r\n              image={imgsrc}\r\n              title={aliment}\r\n            />) \r\n            : \r\n            <Skeleton variant=\"rect\" width={\"100%\"}  />\r\n             \r\n            }\r\n            \r\n            <CardContent>\r\n                <div style={{flexShrink: 1}}>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\" color={\"primary\"} >\r\n                  {groupe_alimentaire.charAt(0).toUpperCase() \r\n                  + groupe_alimentaire.replaceAll(\"_\",\" \").slice(1) \r\n                  + new String(Array(45 - groupe_alimentaire.length).fill(\"\\xa0\").join(\" \")).toString()  }\r\n                </Typography>\r\n                </div>\r\n\r\n                <Typography variant=\"subtitle1\" color=\"primary\" component=\"p\">\r\n                {aliment \r\n                +new String(Array(Math.max(0, (60 - aliment.length))).fill(\"\\xa0\").join(\" \")).toString() }\r\n                </Typography>\r\n            </CardContent>\r\n            <CardContent>\r\n                <TextField\r\n                  required\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                  type=\"number\"\r\n                  min={0}\r\n                  id={aliment}\r\n                  label=\"PORTION\"\r\n                  variant=\"filled\"\r\n                  value={txtPortion}\r\n                  onChange={(e) => {\r\n                    if (e.target.value !== \"\"){\r\n                      setTxtPortion(Number.parseFloat(e.target.value));\r\n                      setAlimentPortion({...aliment_portion, [aliment]:Number.parseFloat(e.target.value)})\r\n                      if (Number.parseFloat(e.target.value) < 0){\r\n                        setTxtPortion(0);\r\n                      }  \r\n                    }else{\r\n                      setTxtPortion(e.target.value);\r\n                    }\r\n                  }}\r\n                />\r\n              \r\n              \r\n                <Autocomplete\r\n                  onChange={ (event, value) => handleAlimentChange(value) }\r\n                  options={aliment_options[aliment_compo_group_alimentaire] || []}\r\n                  getOptionLabel={(option) => option}\r\n                  renderInput={(params) => <TextField {...params} label=\"Choisir un Aliment\" margin=\"normal\" />}\r\n                />\r\n                </CardContent>\r\n              \r\n        </Card>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nconst useStyles = makeStyles((theme) =>({\r\n    card: {\r\n      //width: window.innerWidth - 30,\r\n      //margin: 1,\r\n      marginTop: 10,\r\n      // marginBottom: 50,\r\n      //background: \"linear-gradient(45deg, #56CCF2, #2F80ED)\"\r\n    },\r\n    media: {\r\n      height: 0,\r\n      paddingTop: '56.25%', // 16:9\r\n    },\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n    avatar: {\r\n      backgroundColor: blue[500],\r\n    },\r\n    table: {\r\n      width : 250\r\n    }\r\n  }));","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Chip, Icon, Typography, Slider, withStyles } from '@material-ui/core';\r\nimport RestaurantIcon from '@material-ui/icons/Restaurant';\r\n\r\n\r\n\r\n\r\nexport default function SummariesAliment({aliment_portion, nutrientCompo}){\r\n    const PrettoSlider = withStyles(theme => ({\r\n        root: {\r\n          height: 8,\r\n        },\r\n        disabled: {\r\n            color: theme.palette.primary.main\r\n        },\r\n        thumb: {\r\n          height: 24,\r\n          width: 24,\r\n          backgroundColor: '#fff',\r\n          border: '2px solid currentColor',\r\n          marginTop: -8,\r\n          marginLeft: -12,\r\n          '&:focus, &:hover, &$active': {\r\n            boxShadow: 'inherit',\r\n          },\r\n        },\r\n        active: {},\r\n        valueLabel: {\r\n          left: 'calc(-50% + 4px)',\r\n        },\r\n        track: {\r\n          height: 8,\r\n          borderRadius: 4,\r\n        },\r\n        rail: {\r\n          height: 8,\r\n          borderRadius: 4,\r\n        },\r\n      }))(Slider);\r\n    const classes = useStyles();\r\n    const EAU = \"Eau (g/100g)\";\r\n    const ALCOOL = \"Alcool (g/100g)\";\r\n    const GLUCIDES = \"Glucides (g/100g)\";\r\n\r\n    const styleList = [\r\n        {\r\n            icon: \"done\",\r\n            backgroundColor: \"#70AB1A\",\r\n            textColor: 'white'\r\n        }, {    \r\n            icon: \"error_outline\",\r\n            backgroundColor:\"#D8AD26\", \r\n            textColor: 'white'\r\n        },\r\n        {\r\n            icon:\"close\",\r\n            backgroundColor: \"#D14600\",\r\n            textColor: 'white'\r\n        },\r\n        {\r\n            icon: \"\",\r\n            backgroundColor: \"#ffffff\",\r\n            textColor: 'black'\r\n        }];\r\n\r\n    const progressClassNames = [{\r\n        color: '#72DC00',\r\n    },{\r\n        color: \"#D29D23\"\r\n    },{\r\n        color: \"#A93226\"\r\n    }]\r\n\r\n    const nutrientConstraints = [\r\n        {\r\n            mid: 2250,\r\n            high: 3000\r\n        },\r\n        {\r\n            mid: 0,\r\n            high: 0\r\n        },\r\n        {\r\n            mid: 69,\r\n            high: 92\r\n        },\r\n        {\r\n            mid: 0,\r\n            high: 0\r\n        },\r\n        {\r\n            mid: 600,\r\n            high: 800\r\n        },\r\n        {\r\n            mid: 1875,\r\n            high: 2500\r\n        },\r\n        {\r\n            mid: 1500,\r\n            high: 2000\r\n        },\r\n        {\r\n            mid: 0,\r\n            high: 0\r\n        },\r\n        {\r\n            mid: 0,\r\n            high: 1200\r\n        }\r\n\r\n    ]\r\n    \r\n    return (<div className={classes.root}>\r\n       {\r\n           nutrientCompo.nutrient_headers.map((item, index) => {\r\n               let myStyleIndex = 0, progressBarColorIndex = 0;\r\n               if (!item) return;\r\n                const nutrientSum = Object.keys(aliment_portion).reduce((previousValue, currentValue) =>{\r\n                    const nutrientValue = nutrientCompo.aliments_data_nutrient_ref\r\n                        [\r\n                            nutrientCompo.aliments_data_nutrient_ref.findIndex\r\n                            (\r\n                            (element) => currentValue === Object.keys(element)[0]\r\n                            )\r\n                        ][currentValue].les_nutrients[index].value\r\n                    let prdt = aliment_portion[currentValue] * Number.parseFloat(nutrientValue);\r\n                    \r\n                    return previousValue + prdt;\r\n                }, 0);\r\n\r\n                myStyleIndex = (nutrientSum >= nutrientConstraints[index].high) ? 2 : \r\n                                        (nutrientSum > nutrientConstraints[index].mid) ? 1 : 0;\r\n\r\n                if (nutrientConstraints[index].high === 0) myStyleIndex = 3;\r\n\r\n                let nutrientPercent = ((nutrientSum/nutrientConstraints[index].high) * 100).toFixed(0);\r\n                \r\n                progressBarColorIndex = (nutrientPercent >= 75) ? 2 :\r\n                                            (nutrientPercent >= 50) ? 1 : 0;\r\n\r\n                \r\n                return (\r\n                    <div key={index} style={{marginBottom: 20, width:\"95%\", paddingTop: 10}}>\r\n                    {(EAU != item) && (ALCOOL != item) && (GLUCIDES != item)  ?\r\n                (\r\n                <div>\r\n                    <PrettoSlider \r\n                        valueLabelFormat={x => x+\"%\"}\r\n                        aria-label=\"pretto slider\" \r\n                        value={nutrientPercent} \r\n                        valueLabelDisplay=\"on\"\r\n                        step={1}\r\n                        style={{color:progressClassNames[progressBarColorIndex].color}}\r\n                        />\r\n                    <Typography gutterBottom>{item}: <b>{nutrientSum.toFixed(2)} </b></Typography>\r\n                </div>\r\n                ) :\r\n                (\r\n                    (item === \"Eau + Alcool (g/100g)\") &&\r\n                    <Chip \r\n                        key={index}\r\n                        style={{margin: \"0.5%\", backgroundColor: styleList[myStyleIndex].backgroundColor, color: styleList[myStyleIndex].textColor}}\r\n                        icon={<RestaurantIcon style={{color:styleList[myStyleIndex].textColor}} />} \r\n                        variant=\"outlined\"\r\n                        label={<Typography className={classes.nutrientText}>\r\n                            {item}: <b>{nutrientSum.toFixed(2)} </b></Typography>}\r\n                        onDelete={(e) => {}}\r\n                        deleteIcon={<Icon >{styleList[myStyleIndex].icon}</Icon>}\r\n                    />\r\n                    )}\r\n            </div>)\r\n           })\r\n        }\r\n        </div>\r\n        );\r\n} \r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        flexWrap: 'wrap',\r\n        listStyle: 'none',\r\n        padding: theme.spacing(0.5),\r\n        margin: 5,\r\n    },\r\n    \r\n    title: {\r\n      fontSize: 24,\r\n      justifyContent: 'center'\r\n    },\r\n    nutrientText: {\r\n        fontSize: 12,\r\n    },\r\n    chipColor: {\r\n        borderColor: 'green'\r\n    }\r\n    \r\n  })\r\n  );","import React from 'react';\r\nimport {\r\n    FormControl,InputLabel, MenuItem,\r\n    makeStyles, Select\r\n  } from '@material-ui/core/';\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  }));\r\n\r\nexport default function  Pagination({pages, activePage, onClick, spreadsheetData}){\r\n    \r\n  const classes = useStyles();\r\n\r\n    console.log(spreadsheetData);\r\n    return (\r\n      <FormControl variant=\"filled\" className={classes.formControl}>\r\n      <InputLabel id=\"demo-simple-select-filled-label\">Groupe Alimentaire</InputLabel>\r\n      <Select\r\n        labelId=\"demo-simple-select-filled-label\"\r\n        id=\"demo-simple-select-filled\"\r\n        value={activePage}\r\n        onChange={(e) => onClick(e.target.value)}\r\n      >\r\n          <MenuItem value={0}>\r\n            {(spreadsheetData[0] != null) ? spreadsheetData[0].groupe_alimentaire : \"\"}\r\n          </MenuItem>\r\n          <MenuItem value={10}>\r\n            {(spreadsheetData[10] != null) ? spreadsheetData[10].groupe_alimentaire : \"\"}\r\n          </MenuItem>\r\n          <MenuItem value={2}>\r\n            {(spreadsheetData[2] != null) ? spreadsheetData[2].groupe_alimentaire : \"\"}\r\n          </MenuItem>\r\n          <MenuItem value={3}>\r\n            {(spreadsheetData[3] != null) ? spreadsheetData[3].groupe_alimentaire : \"\"}\r\n          </MenuItem>\r\n          <MenuItem value={4}>\r\n            {(spreadsheetData[4] != null) ? spreadsheetData[4].groupe_alimentaire : \"\"}\r\n          </MenuItem>\r\n          <MenuItem value={5}>\r\n            {(spreadsheetData[5] != null) ? spreadsheetData[5].groupe_alimentaire : \"\"}\r\n          </MenuItem>\r\n          <MenuItem value={6}>\r\n            {(spreadsheetData[6] != null) ? spreadsheetData[6].groupe_alimentaire : \"\"}\r\n          </MenuItem>\r\n          <MenuItem value={7}>\r\n            {(spreadsheetData[7] != null) ? spreadsheetData[7].groupe_alimentaire : \"\"}\r\n          </MenuItem>\r\n          <MenuItem value={8}>\r\n            {(spreadsheetData[8] != null) ? spreadsheetData[8].groupe_alimentaire : \"\"}\r\n          </MenuItem>\r\n          <MenuItem value={9}>\r\n            {(spreadsheetData[9] != null) ? spreadsheetData[9].groupe_alimentaire : \"\"}\r\n          </MenuItem>\r\n          <MenuItem value={1}>\r\n            {(spreadsheetData[1] != null) ? spreadsheetData[1].groupe_alimentaire : \"\"}\r\n          </MenuItem>\r\n          \r\n      </Select>\r\n    </FormControl>\r\n\r\n\r\n        // <List component=\"nav\" aria-label=\"main mailbox folders\" aria-labelledby=\"nested-list-subheader\" subheader={\r\n        //     <ListSubheader component=\"div\" id=\"nested-list-subheader\">\r\n        //       Groupe Alimentaire\r\n        //     </ListSubheader>\r\n        //   }>\r\n        // {\r\n        //    pages.map(page => \r\n        //    (\r\n        //        <ListItem\r\n        //             button\r\n        //             selected={activePage === page}\r\n        //             onClick={() => onClick(page)}\r\n        //         >\r\n        //             <ListItemText style={{color:'black'}} primary={(spreadsheetData[page] != null) ? spreadsheetData[page].groupe_alimentaire : \"\"} />\r\n                    \r\n        //         </ListItem>\r\n            \r\n        //    ))  \r\n        // }\r\n        // </List>\r\n    )\r\n\r\n}\r\n\r\n{/* <Typography key={key} color={\"primary\"} component={\"p\"}>{ (spreadsheetData[key] != null) ? spreadsheetData[key].groupe_alimentaire : \"\" }</Typography> */}","import React, {useEffect, useState} from 'react';\r\nimport '../../App.css';\r\nimport '../../Nutrition.css';\r\nimport HeaderBox from '../../Components/Header/headerBox';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport JsUploadSpreadsheet from '../../Components/JS_Uploadspreadsheet';\r\n  import { \r\n    Card,CardContent,Typography, LinearProgress\r\n  } from '@material-ui/core/';\r\nimport AlimentCard from '../../Components/Aliments/AlimentCard';\r\nimport SummariesAliment from '../../Components/Aliments/SummariesAliment';\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport Pagination from '../../Components/Aliments/Pagination';\r\nimport aliment_images from '../../resources/aliment_images.json';\r\n\r\n\r\nexport default function Home() {\r\nconst [uploaded, setUploadState] = useState(false);\r\nconst [file_name, setFileName] = useState(\"No File Uploaded\")\r\nconst [aliment_portion, setAlimentPortion] = useState({});\r\nconst [spreadsheetData, setSpreadsheetData] = useState({});\r\nconst [spreadsheetCompo, setSpreadsheetCompo] = useState({});\r\nconst [loading, setLoading] = useState(false);\r\nconst [aliment_options, setAlimentOptions] = useState([]);\r\nconst [currentAlimentIndex, setCurrentAlimentIndex] = useState(0);\r\n\r\nconst classes = useStyles();\r\n\r\n  useEffect(() => {\r\n      \r\n      if (typeof spreadsheetData.aliments == 'undefined') return;\r\n\r\n      let myAlimentObj = {};\r\n      spreadsheetData.aliments.forEach((item) => {\r\n          myAlimentObj[item.aliment] = item.portion;\r\n      });\r\n      \r\n      setAlimentPortion(\r\n        myAlimentObj\r\n      );\r\n\r\n\r\n  }, [spreadsheetData, aliment_options]);\r\n\r\n  return (\r\n    <div >\r\n        <HeaderBox file_name={file_name}/>\r\n        \r\n        {\r\n        !uploaded &&\r\n        \r\n        <>\r\n          <JsUploadSpreadsheet \r\n              stateMutator={setUploadState} \r\n              spreadSheetMutator={setSpreadsheetData} \r\n              spreadSheetCompoMutator={setSpreadsheetCompo} \r\n              setAlimentPortionMutator={setAlimentPortion}\r\n              setLoadingMutator={setLoading}\r\n              setFileName={setFileName}\r\n              setAlimentOptions={setAlimentOptions}\r\n          />\r\n        </>\r\n\r\n        }\r\n        \r\n        {\r\n          loading && \r\n          <LinearProgress style={{marginTop: 10}}/>\r\n        }\r\n\r\n        {\r\n          uploaded &&\r\n            <div className={classes.root}>\r\n              <Carousel \r\n                  showArrows={true}\r\n                  showThumbs={false}\r\n                  statusFormatter={()=> \"\"}\r\n                  renderIndicator={()=><></>}\r\n                  selectedItem={currentAlimentIndex}\r\n                  onChange={(index) => setCurrentAlimentIndex(index)}\r\n                  \r\n              >\r\n              {\r\n              spreadsheetData.aliments.map((item, index) => \r\n                  <AlimentCard\r\n                        id={index}  \r\n                        key={index}\r\n                        aliment={(item != null) ? item.aliment : \"\"} \r\n                        sous_groupe={(item != null) ? item.sous_groupe_alimentaire : \"\"}\r\n                        groupe_alimentaire={(item != null) ? item.groupe_alimentaire : \"\"}\r\n                        portion={(item != null) ? item.portion : \"\"} \r\n                        spreadsheetData={spreadsheetData}\r\n                        setSpreadsheetData={setSpreadsheetData} \r\n                        nutrientCompo={spreadsheetCompo}\r\n                        setAlimentPortion={setAlimentPortion}\r\n                        aliment_portion={aliment_portion}\r\n                        aliment_options={aliment_options}\r\n                        aliment_images={aliment_images}\r\n                  />\r\n                )\r\n              }\r\n             </Carousel>\r\n\r\n              <Pagination pages={[...Array(11).keys()]}\r\n                      activePage={currentAlimentIndex}\r\n                      onClick={setCurrentAlimentIndex}\r\n                      spreadsheetData={spreadsheetData.aliments}\r\n                />\r\n\r\n\r\n              <Card className={classes.summary_root}>\r\n                <CardContent>\r\n                  <Typography className={classes.title} >\r\n                    Summaries\r\n                  </Typography>\r\n\r\n                  <SummariesAliment \r\n                      aliment_portion={aliment_portion}\r\n                      nutrientCompo={spreadsheetCompo}\r\n                  />\r\n\r\n                </CardContent>        \r\n              </Card>\r\n\r\n              \r\n            {/* <Box component=\"span\" m={1}>\r\n              \r\n            </Box> */}\r\n          </div>\r\n        }\r\n    \r\n    </div>\r\n  );\r\n  }\r\n\r\n  const useStyles = makeStyles({\r\n    root: {\r\n      background: 'linear-gradient(45deg, rgba(255,255,255,0.9) 30%, #rgba(225,225,2,0.4) 90%)',\r\n      border: 0,\r\n      borderRadius: 3,\r\n      boxShadow: '0 3px 5px 2px rgba(10, 10, 0, .1)',\r\n      color: 'white',\r\n      flex: 1\r\n    },\r\n    food_card:{\r\n      flexGrow: 1\r\n    },\r\n    summary_root: {\r\n      width: \"100%\",\r\n      flex: 1\r\n    },\r\n    myCardRow:{\r\n      flexDirection: 'row'\r\n    },\r\n    myCardColumn: {\r\n      flexDirection: 'column'\r\n    },\r\n    title: {\r\n      fontSize: 24,\r\n      justifyContent: 'center'\r\n    },\r\n  }\r\n);\r\n","import React from 'react';\r\n\r\nimport Home from './Pages/Home/home';\r\n\r\nfunction Main() {\r\n  return (\r\n    <Home />\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport './App.css';\r\nimport Main from './Main';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Main />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}