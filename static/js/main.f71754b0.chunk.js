(this.webpackJsonpnutrition_react=this.webpackJsonpnutrition_react||[]).push([[0],{105:function(e,t,a){e.exports=a(151)},110:function(e,t,a){},121:function(e,t){},122:function(e,t){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),l=(a(110),a(111),a(57),a(93)),u=a(14),c=(a(67),a(205)),s=a(193),m=a(192),d=a(188),p=a(191);function g(e){var t=e.file_name,a=f();return r.a.createElement(d.a,{position:"static",color:"primary"},r.a.createElement(p.a,null,r.a.createElement(m.a,{variant:"h6",className:a.title},t)))}var f=Object(s.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textAlign:"left"},myAppbarColor:{background:"linear-gradient(45deg, #DA22FF 30%, #9733EE 90%)"}}}));function h(e){e.file_name;var t=b();return r.a.createElement(c.a,{component:"span",className:t.boxParentSize},r.a.createElement(g,{file_name:"Meal Calculateur"}))}var b=Object(s.a)({root:{border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:100},boxParentSize:{height:100,width:"80%",background:"linear-gradient(45deg, #DA22FF 30%, #9733EE 90%)"}}),_=a(38),v=a(45),E=a.n(v),x=a(61),j=a(55);a(71);function O(e){var t=e.stateMutator,a=e.spreadSheetMutator,i=e.spreadSheetCompoMutator,o=e.setAlimentPortionMutator,l=e.setLoadingMutator,u=e.setFileName,c=e.setAlimentOptions;S();Object(n.useEffect)((function(){l(!0),s(window.location.href+"/"+encodeURIComponent("meal_calculator.xlsx"))}),[]);var s=function(){var e=Object(x.a)(E.a.mark((function e(a){var n,r,i,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a,{responseType:"blob"});case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,i=new File([r],"source_file.xlsx",{type:n.headers.get("content-type")}),(o=new FileReader).onload=function(){var e=Object(x.a)(E.a.mark((function e(a){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.target.result,r=j.read(n,{type:"binary"}),e.next=4,m(r);case 4:return e.next=6,d(r);case 6:return e.next=8,l(!1);case 8:return e.next=10,t(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u(i.name),e.next=12,o.readAsBinaryString(i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.SheetNames[0],n=e.Sheets[t],r=j.utils.sheet_to_json(n,{header:1}),i={},l=0;i.aliments=[],r.forEach((function(e){1!==++l&&null!=e[0]&&0!==e.length&&i.aliments.push({aliment:e[2],sous_groupe_alimentaire:e[1],groupe_alimentaire:e[0],portion:0})})),a(i);var u={};i.aliments.forEach((function(e){u[e.aliment]=e.portion})),o(u)},d=function(e){var t=e.SheetNames[1],a=e.Sheets[t],n=j.utils.sheet_to_json(a,{header:1}),r=p(n);i(r);var o={};n.map((function(e,t){0!=t&&(o.hasOwnProperty(e[0])||(o[e[0]]=[]),o[e[0]].push(e[2]))})),c(o)},p=function(e){var t={aliments_data_nutrient_ref:[],nutrient_headers:[]};return e.forEach((function(e,a){0!==a?t.aliments_data_nutrient_ref.push(Object(_.a)({},e[2],{alim_nom_fr:e[2],alim_grp_nom_fr:e[0],alim_ssgrp_nom_fr:e[1],les_nutrients:[{id:++a,nutrient:t.nutrient_headers[0],value:e[3].toString().replace(",",".")},{id:++a,nutrient:t.nutrient_headers[1],value:e[4].toString().replace(",",".")},{id:++a,nutrient:t.nutrient_headers[2],value:e[5].toString().replace(",",".")},{id:++a,nutrient:t.nutrient_headers[3],value:e[6].toString().replace(",",".")},{id:++a,nutrient:t.nutrient_headers[4],value:e[7].toString().replace(",",".")},{id:++a,nutrient:t.nutrient_headers[5],value:e[8].toString().replace(",",".")},{id:++a,nutrient:t.nutrient_headers[6],value:e[9].toString().replace(",",".")},{id:++a,nutrient:t.nutrient_headers[7],value:e[10].toString().replace(",",".")},{id:++a,nutrient:t.nutrient_headers[1]+" "+t.nutrient_headers[3],value:parseFloat(e[4].toString().replace(",","."))+parseFloat(e[6].toString().replace(",","."))}]})):t.nutrient_headers=g(e)})),t},g=function(e){return e.push("Eau + Alcool (g/100g)"),e.slice(3)};return r.a.createElement(r.a.Fragment,null)}var S=Object(s.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),y=a(203),C=a(194),w=a(197),k=a(62),A=a(54),F=a(195),N=a(208),D=a(206),I=a(196);function M(e){var t=e.id,a=e.aliment,i=(e.sous_groupe,e.groupe_alimentaire),o=e.portion,l=e.spreadsheetData,c=e.setSpreadsheetData,s=e.nutrientCompo,d=e.setAlimentPortion,p=e.aliment_portion,g=e.aliment_options,f=e.aliment_images,h=P(),b=Object(n.useState)(!1),v=Object(u.a)(b,2),E=v[0],x=v[1],j=Object(n.useState)(""),O=Object(u.a)(j,2),S=O[0],y=O[1],A=Object(n.useState)(o),M=Object(u.a)(A,2),T=M[0],L=M[1],R=Object(n.useState)(""),B=Object(u.a)(R,2),z=B[0],G=B[1];return Object(n.useEffect)((function(){var e=s.aliments_data_nutrient_ref[s.aliments_data_nutrient_ref.findIndex((function(e){return a===Object.keys(e)[0]}))][a].alim_grp_nom_fr;G(e),null!=a&&(y(f[a]),x(!0))}),[a,g]),r.a.createElement("div",null,r.a.createElement(C.a,null,E?r.a.createElement(F.a,{className:h.media,image:S,title:a}):r.a.createElement(I.a,{variant:"rect",width:"100%"}),r.a.createElement(w.a,null,r.a.createElement("div",{style:{flexShrink:1}},r.a.createElement(m.a,{gutterBottom:!0,variant:"h5",component:"h2",color:"primary"},i.charAt(0).toUpperCase()+i.replaceAll("_"," ").slice(1)+new String(Array(45-i.length).fill("\xa0").join(" ")).toString())),r.a.createElement(m.a,{variant:"subtitle1",color:"primary",component:"p"},a+new String(Array(Math.max(0,60-a.length)).fill("\xa0").join(" ")).toString())),r.a.createElement(w.a,null,r.a.createElement(N.a,{required:!0,InputLabelProps:{shrink:!0},type:"number",min:0,id:a,label:"PORTION",variant:"filled",value:T,onChange:function(e){""!==e.target.value?(L(Number.parseFloat(e.target.value)),d(Object(k.a)({},p,Object(_.a)({},a,Number.parseFloat(e.target.value)))),Number.parseFloat(e.target.value)<0&&L(0)):L(e.target.value)}}),r.a.createElement(D.a,{onChange:function(e,a){return function(e){var a=s.aliments_data_nutrient_ref[s.aliments_data_nutrient_ref.findIndex((function(t){return e===Object.keys(t)[0]}))][e].alim_grp_nom_fr,n=s.aliments_data_nutrient_ref[s.aliments_data_nutrient_ref.findIndex((function(t){return e===Object.keys(t)[0]}))][e].alim_ssgrp_nom_fr;l.aliments.splice(t,1,{aliment:e,sous_groupe_alimentaire:n,groupe_alimentaire:a,portion:T}),x(!1),c(Object(k.a)({},l,{aliments:l.aliments}))}(a)},options:g[z]||[],getOptionLabel:function(e){return e},renderInput:function(e){return r.a.createElement(N.a,Object.assign({},e,{label:"Choisir un Aliment",margin:"normal"}))}}))))}var P=Object(s.a)((function(e){return{card:{marginTop:10},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:A.a[500]},table:{width:250}}})),T=a(4),L=a(212),R=a(211),B=a(202),z=a(90),G=a.n(z);function W(e){var t=e.aliment_portion,a=e.nutrientCompo,n=Object(T.a)((function(e){return{root:{height:8},disabled:{color:e.palette.primary.main},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}}}))(L.a),i=J(),o=[{icon:"done",backgroundColor:"#70AB1A",textColor:"white"},{icon:"error_outline",backgroundColor:"#D8AD26",textColor:"white"},{icon:"close",backgroundColor:"#D14600",textColor:"white"},{icon:"",backgroundColor:"#ffffff",textColor:"black"}],l=[{color:"#72DC00"},{color:"#D29D23"},{color:"#A93226"}],u=[{mid:2250,high:3e3},{mid:0,high:0},{mid:69,high:92},{mid:0,high:0},{mid:600,high:800},{mid:1875,high:2500},{mid:1500,high:2e3},{mid:0,high:0},{mid:0,high:1200}];return r.a.createElement("div",{className:i.root},a.nutrient_headers.map((function(e,c){var s,d=0;if(e){var p=Object.keys(t).reduce((function(e,n){var r=a.aliments_data_nutrient_ref[a.aliments_data_nutrient_ref.findIndex((function(e){return n===Object.keys(e)[0]}))][n].les_nutrients[c].value;return e+t[n]*Number.parseFloat(r)}),0);d=p>=u[c].high?2:p>u[c].mid?1:0,0===u[c].high&&(d=3);var g=(p/u[c].high*100).toFixed(0);return s=g>=75?2:g>=50?1:0,r.a.createElement("div",{key:c,style:{marginBottom:20,width:"95%",paddingTop:10}},"Eau (g/100g)"!=e&&"Alcool (g/100g)"!=e&&"Glucides (g/100g)"!=e?r.a.createElement("div",null,r.a.createElement(n,{valueLabelFormat:function(e){return e+"%"},"aria-label":"pretto slider",value:g,valueLabelDisplay:"on",step:1,style:{color:l[s].color}}),r.a.createElement(m.a,{gutterBottom:!0},e,": ",r.a.createElement("b",null,p.toFixed(2)," "))):"Eau + Alcool (g/100g)"===e&&r.a.createElement(R.a,{key:c,style:{margin:"0.5%",backgroundColor:o[d].backgroundColor,color:o[d].textColor},icon:r.a.createElement(G.a,{style:{color:o[d].textColor}}),variant:"outlined",label:r.a.createElement(m.a,{className:i.nutrientText},e,": ",r.a.createElement("b",null,p.toFixed(2)," ")),onDelete:function(e){},deleteIcon:r.a.createElement(B.a,null,o[d].icon)}))}})))}var J=Object(s.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:e.spacing(.5),margin:5},title:{fontSize:24,justifyContent:"center"},nutrientText:{fontSize:12},chipColor:{borderColor:"green"}}})),U=(a(145),a(91)),$=a(200),q=a(210),H=a(204),K=a(213),Q=Object(s.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function V(e){e.pages;var t=e.activePage,a=e.onClick,n=e.spreadsheetData,i=Q();return console.log(n),r.a.createElement($.a,{variant:"filled",className:i.formControl},r.a.createElement(q.a,{id:"demo-simple-select-filled-label"},"Groupe Alimentaire"),r.a.createElement(H.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:t,onChange:function(e){return a(e.target.value)}},r.a.createElement(K.a,{value:0},null!=n[0]?n[0].groupe_alimentaire:""),r.a.createElement(K.a,{value:10},null!=n[10]?n[10].groupe_alimentaire:""),r.a.createElement(K.a,{value:2},null!=n[2]?n[2].groupe_alimentaire:""),r.a.createElement(K.a,{value:3},null!=n[3]?n[3].groupe_alimentaire:""),r.a.createElement(K.a,{value:4},null!=n[4]?n[4].groupe_alimentaire:""),r.a.createElement(K.a,{value:5},null!=n[5]?n[5].groupe_alimentaire:""),r.a.createElement(K.a,{value:6},null!=n[6]?n[6].groupe_alimentaire:""),r.a.createElement(K.a,{value:7},null!=n[7]?n[7].groupe_alimentaire:""),r.a.createElement(K.a,{value:8},null!=n[8]?n[8].groupe_alimentaire:""),r.a.createElement(K.a,{value:9},null!=n[9]?n[9].groupe_alimentaire:""),r.a.createElement(K.a,{value:1},null!=n[1]?n[1].groupe_alimentaire:"")))}var X=a(92);function Y(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)("No File Uploaded"),c=Object(u.a)(o,2),s=c[0],d=c[1],p=Object(n.useState)({}),g=Object(u.a)(p,2),f=g[0],b=g[1],_=Object(n.useState)({}),v=Object(u.a)(_,2),E=v[0],x=v[1],j=Object(n.useState)({}),S=Object(u.a)(j,2),k=S[0],A=S[1],F=Object(n.useState)(!1),N=Object(u.a)(F,2),D=N[0],I=N[1],P=Object(n.useState)([]),T=Object(u.a)(P,2),L=T[0],R=T[1],B=Object(n.useState)(0),z=Object(u.a)(B,2),G=z[0],J=z[1],$=Z();return Object(n.useEffect)((function(){if("undefined"!=typeof E.aliments){var e={};E.aliments.forEach((function(t){e[t.aliment]=t.portion})),b(e)}}),[E,L]),r.a.createElement("div",null,r.a.createElement(h,{file_name:s}),!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{stateMutator:i,spreadSheetMutator:x,spreadSheetCompoMutator:A,setAlimentPortionMutator:b,setLoadingMutator:I,setFileName:d,setAlimentOptions:R})),D&&r.a.createElement(y.a,{style:{marginTop:10}}),a&&r.a.createElement("div",{className:$.root},r.a.createElement(U.Carousel,{showArrows:!0,showThumbs:!1,statusFormatter:function(){return""},renderIndicator:function(){return r.a.createElement(r.a.Fragment,null)},selectedItem:G,onChange:function(e){return J(e)}},E.aliments.map((function(e,t){return r.a.createElement(M,{id:t,key:t,aliment:null!=e?e.aliment:"",sous_groupe:null!=e?e.sous_groupe_alimentaire:"",groupe_alimentaire:null!=e?e.groupe_alimentaire:"",portion:null!=e?e.portion:"",spreadsheetData:E,setSpreadsheetData:x,nutrientCompo:k,setAlimentPortion:b,aliment_portion:f,aliment_options:L,aliment_images:X})}))),r.a.createElement(V,{pages:Object(l.a)(Array(11).keys()),activePage:G,onClick:J,spreadsheetData:E.aliments}),r.a.createElement(C.a,{className:$.summary_root},r.a.createElement(w.a,null,r.a.createElement(m.a,{className:$.title},"Summaries"),r.a.createElement(W,{aliment_portion:f,nutrientCompo:k})))))}var Z=Object(s.a)({root:{background:"linear-gradient(45deg, rgba(255,255,255,0.9) 30%, #rgba(225,225,2,0.4) 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(10, 10, 0, .1)",color:"white",flex:1},food_card:{flexGrow:1},summary_root:{width:"100%",flex:1},myCardRow:{flexDirection:"row"},myCardColumn:{flexDirection:"column"},title:{fontSize:24,justifyContent:"center"}});var ee=function(){return r.a.createElement(Y,null)};var te=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ee,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e,t,a){},67:function(e,t,a){},70:function(e,t){},92:function(e){e.exports=JSON.parse('{"C\xe9leri r\xe9moulade, pr\xe9emball\xe9":"https://recettes.de/images/blogs/un-jardin-dans-ma-cuisine/celeri-remoulade.320x240.jpg","Salade de thon et l\xe9gumes, appertis\xe9e, \xe9goutt\xe9e":"https://i.pinimg.com/236x/95/fa/65/95fa65e751d2f7ca31fbaef86ba4f4f8--sans-gluten-salad-recipes.jpg"}')}},[[105,1,2]]]);
//# sourceMappingURL=main.f71754b0.chunk.js.map